# nb_ai_context

[![PyPI version](https://img.shields.io/pypi/v/nb_ai_context.svg)](https://pypi.org/project/nb_ai_context/)
[![Python versions](https://img.shields.io/pypi/pyversions/nb_ai_context.svg)](https://pypi.org/project/nb_ai_context/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

ğŸš€ **æå…¶å¼ºå¤§çš„ AI ä¸Šä¸‹æ–‡ç”Ÿæˆå™¨** - å°†ä»»æ„ IT é¡¹ç›®åˆå¹¶ç”Ÿæˆä¸º1ä¸ªç»“æ„åŒ– Markdown æ–‡æ¡£ï¼Œæ–¹ä¾¿ä¸€æ¬¡ä¸Šä¼ ç»™aiå¤§æ¨¡å‹æˆ–è€…ragçŸ¥è¯†åº“ã€‚  

**`nb_ai_context` ç”Ÿæˆçš„markdownæ–‡ä»¶ ä¼ ç»™  `google ai studio` ï¼Œç”Ÿæˆä»£ç è´¨é‡å’Œå‡†ç¡®ç‡ï¼Œè¿œè¿œåŠæ‰“åœ¨ `cursor` `trae` `qoder` `gemini-code-assit` ç­‰ai ideä¸­å†™ä»£ç ã€‚**

<pre style="color: red;font-weight: bold;background-color:yellow;padding: 10px;border-radius: 5px;font-size: 16px;">
æœ¬äººå®æµ‹ï¼š
å°† nb_ai_context å¯¹é¡¹ç›®æ•™ç¨‹+æºç ç”Ÿæˆçš„å•ä¸ªmarkdownæ–‡ä»¶ ä¼ ç»™ `google ai studio` ç½‘é¡µç‰ˆ
çš„1000kä¸Šä¸‹æ–‡+gemini 3.0pro å¤§æ¨¡å‹ï¼Œå†æé—®è®©geminiå†™ä»£ç ï¼Œä»£ç ç”Ÿæˆçš„å‡†ç¡®ç‡å’Œè´¨é‡è¿œè¿œåŠæ‰“åœ¨ 
cursor trae qoderç­‰ai ideæˆ–gemini-code-assitç­‰ ç¼–ç¨‹æ’ä»¶ é‡Œé¢æé—®å†™ä»£ç ã€‚

 `google ai studio` ä¼˜ç‚¹æ˜¯1000kä¸Šä¸‹æ–‡ä»¥åŠå…è´¹ã€‚å”¯ä¸€ç¼ºç‚¹æ˜¯ä»–åœ¨ç½‘é¡µç”Ÿæˆä»£ç ï¼Œè€Œä¸æ˜¯ç›´æ¥æ“ä½œ
 ä¿®æ”¹ä½ çš„æœ¬åœ°ä»£ç æ–‡ä»¶ã€‚

 `nb_ai_context` ç”Ÿæˆçš„markdownä¸¢ç»™`google ai studio`å®Œçˆ†cursor traeç­‰ideä¸­å†™ä»£ç  
 ä¸»è¦åŸå› æ˜¯ï¼š  
`google ai studio` ç½‘é¡µç‰ˆæ˜¯å…¨é‡é˜…è¯»æ¨ç†ä½ ä¸Šä¼ çš„æ–‡ä»¶ï¼Œè€Œ aiç¼–ç¨‹ide å¯¹é•¿æ•™ç¨‹æˆ–è€…æºç ï¼Œ
ai agentè¯•å›¾é‡‡å–å…³é”®å­—æœç´¢åŒ¹é…å†æŠ•å–‚ä¸Šä¸‹æ–‡ç»™aiå¤§æ¨¡å‹ï¼Œï¼ˆæœ‰æ—¶å€™æ¨¡ç³Šæœç´¢çš„å…³é”®å­—å‹æ ¹æœä¸åˆ°å†…å®¹ï¼Œ
å› ä¸ºaié€ å‡ºæ¥çš„å…³é”®å­—ä¸æ˜¯å®Œå®Œå…¨å…¨çš„åŒ¹é…ä½ çš„å‡½æ•°åå­—æˆ–è€…æ•™ç¨‹å†…å®¹ï¼Œæ‰€ä»¥å°±æœä¸åˆ°ï¼Œ
ä¾‹å¦‚è¿‘ä¹‰è¯ï¼Œä½ ä»£ç ç”¨åˆ«çš„å•è¯è¡¨ç¤ºï¼Œaiå´ç”¨è‡ªå·±çš„å•è¯æ¥è¡¨ç¤ºï¼Œé å…³é”®å­—å‹æ ¹å°±æœä¸åˆ°å†…å®¹ï¼Œagentå’‹æŠ•å–‚aiå¤§æ¨¡å‹ï¼Ÿï¼‰
ai ide è¿™ç§æ–¹å¼ç®€ç›´æ˜¯ç®¡ä¸­çª¥è±¹ ä¸€å¶éšœç›®ä¸è§æ³°å±±ã€‚

æœ€æ ¹æœ¬åŸå› è¿˜æ˜¯ï¼š  
ai ide ä¸ºäº†å‡å°‘æˆæœ¬ï¼Œé˜²æ­¢tokenæ¶ˆè€—å¤§ï¼Œä¸ä¼šå…¨é‡æŠŠæºç æ•™ç¨‹å–‚ç»™aiå¤§æ¨¡å‹ï¼Œä¸ç„¶çš„é ç”¨æˆ·äº¤çš„é‚£20ç¾å…ƒçš„æœˆä¼šå‘˜ï¼Œ
cursorè¦äºå¾—è£¤è¡©æ²¡å¾—ç©¿ã€‚100ä¸‡ tokensä¸Šä¸‹æ–‡è¾“å…¥ï¼Œcalude gemini gpt ä»·æ ¼å¤§çº¦æ˜¯3ç¾å…ƒï¼Œç›¸å½“äº20å…ƒäººæ°‘å¸ï¼Œ
å¦‚æœé—®ä¸€æ¬¡å°±20å…ƒäººæ°‘å¸ï¼Œcursoræ¯ä¸ªæœˆç»™ä½ ç”¨8æ¬¡å°±è¦å¼€å§‹äºè¡€æœ¬äº†ï¼Œ(å¦å¤–tokensè¾“å‡ºä»·æ ¼è¿œé«˜äºè¾“å…¥ä»·æ ¼ï¼‰ï¼Œ
ç°åœ¨cursorè¿˜ç»™ä½ æ¯æœˆç”¨500æ¬¡ï¼Œé‚£ä»–åªèƒ½ä»èŠ‚çº¦tokensä¸‹æ‰‹äº†ï¼Œå…·ä½“è¡¨ç°å°±æ˜¯cursorä¸å…¨é‡æŠŠæ‰€æœ‰æ•™ç¨‹å’Œæºç 
å‘ç»™aiå¤§æ¨¡å‹æ¨ç†ã€‚

`nb_ai_context` å¯¹å¤§å‹ç¼–ç¨‹é¡¹ç›®çš„æ•ˆæœå°¤ä¸ºçªå‡ºï¼Œè¿œè¿œåŠæ‰“ cursor trae qoder gemini-code-assit ç­‰ai ideä¸­å†™ä»£ç ã€‚
</pre>

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦ nb_ai_contextï¼Ÿ

å½“ä½ æƒ³è®© AI å¤§æ¨¡å‹ï¼ˆå¦‚ ChatGPTã€Claudeï¼‰ç†è§£ä½ çš„æ•´ä¸ªé¡¹ç›®æ—¶ï¼Œæ‰‹åŠ¨å¤åˆ¶ç²˜è´´ä»£ç æ—¢ç¹çåˆå®¹æ˜“å‡ºé”™ã€‚`nb_ai_context` å½»åº•è§£å†³äº†è¿™ä¸ªç—›ç‚¹ï¼š

- âœ… **è‡ªåŠ¨åŒ–åˆå¹¶** - ä¸€é”®å°†æ•´ä¸ªé¡¹ç›®åˆå¹¶ä¸ºå•ä¸ª Markdown æ–‡ä»¶
- âœ… **ç»“æ„åŒ–è¾“å‡º** - åŒ…å«æ–‡ä»¶æ ‘ã€æ–‡ä»¶è¾¹ç•Œã€ç›¸å¯¹è·¯å¾„ï¼ŒAI èƒ½å®Œç¾ç†è§£é¡¹ç›®æ¶æ„
- âœ… **æ™ºèƒ½å…ƒæ•°æ®æå–** - å¯¹ Python é¡¹ç›®æä¾› AST è¯­æ³•æ ‘è§£æï¼Œè‡ªåŠ¨ç”Ÿæˆç±»ã€å‡½æ•°ã€æ–¹æ³•ç­¾å
- âœ… **å®‰å…¨å¯é ** - å†…ç½® `.gitignore` æ”¯æŒï¼Œè‡ªåŠ¨æ’é™¤æ•æ„Ÿä¿¡æ¯ï¼ˆAPI å¯†é’¥ã€.env æ–‡ä»¶ç­‰ï¼‰
- âœ… **çµæ´»å¯æ§** - æ”¯æŒæ–‡ä»¶è¿‡æ»¤ã€ç›®å½•æ’é™¤ã€è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹
- âœ… **GitHub é¡¹ç›®æ”¯æŒ** - ç›´æ¥ä» GitHub zip ä¸‹è½½åœ°å€ç”Ÿæˆæ–‡æ¡£

### ğŸ’¡ **å…³é”®ä¼˜åŠ¿å¯¹æ¯”**
| æ–¹æ¡ˆ | ä¸Šä¸‹æ–‡å®Œæ•´æ€§ | Token æ¶ˆè€— | å®‰å…¨æ€§ | æˆæœ¬ |
|------|--------------|------------|--------|------|
| **Cursor/trae/qoder** | âŒ åˆ†æ®µé˜…è¯» | âš ï¸ é«˜ | âš ï¸ éœ€æ‰‹åŠ¨è¿‡æ»¤ | ğŸ’° ä»˜è´¹æ¬¡æ•°é™åˆ¶ |
| **æ‰‹åŠ¨å¤åˆ¶ç²˜è´´** | âŒ æ˜“é—æ¼ | âŒ æé«˜ | âŒ æ˜“æ³„éœ²æ•æ„Ÿä¿¡æ¯ | â° è€—æ—¶ |
| **nb_ai_context** | âœ… å®Œæ•´ç»“æ„åŒ– | âœ… AST å…ƒæ•°æ®ä¼˜åŒ– | âœ… è‡ªåŠ¨ `.gitignore` | ğŸ†“ å…è´¹å·¥å…· |



### ğŸ å¯¹ AI å¤§æ¨¡å‹çš„å·¨å¤§ä»·å€¼

1. **æä¾›ä¸Šå¸è§†è§’** ğŸ“
   - æ¸…æ™°çš„æ–‡ä»¶æ ‘å’Œæ–‡ä»¶è¾¹ç•Œ
   - å®Œæ•´çš„ç›¸å¯¹è·¯å¾„ä¿¡æ¯
   - AI èƒ½è½»æ¾æ„å»ºé¡¹ç›®çš„æ•´ä½“æ¶æ„å›¾

2. **ç¡®ä¿ä¿¡æ¯å®Œæ•´æ€§** ğŸ“š
   - æœªç»åˆ å‡çš„å®Œæ•´æºç 
   - é¿å…æ‰‹åŠ¨å¤åˆ¶å¯¼è‡´çš„æ ¼å¼æ··ä¹±
   - é›¶ä¸Šä¸‹æ–‡ç¼ºå¤±ï¼ŒAI åˆ†ææ›´ç²¾å‡†

3. **å¢å¼ºå®‰å…¨æ€§** ğŸ”’
   - è‡ªåŠ¨éµå¾ª `.gitignore` è§„åˆ™
   - é˜²æ­¢æ•æ„Ÿä¿¡æ¯æ³„éœ²
   - æ”¾å¿ƒåˆ†äº«ä»£ç ç»™ AI

4. **Python é¡¹ç›®ä¸“å±ä¼˜åŒ–** ğŸ
   - AST è¯­æ³•æ ‘è§£æ
   - è‡ªåŠ¨æå–ç±»ã€å‡½æ•°ã€æ–¹æ³•ç­¾å
   - å‚æ•°ç±»å‹ã€è¿”å›å€¼ã€è£…é¥°å™¨ä¸€ç›®äº†ç„¶

## ğŸ“¦ å®‰è£…

```bash
pip install nb_ai_context
```

**ä¾èµ–é¡¹ï¼š**
- Python >= 3.7
- nb_path
- nb_log

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¤ºä¾‹ 1ï¼šä¸ºæœ¬åœ° Python é¡¹ç›®ç”Ÿæˆ AI ä¸Šä¸‹æ–‡

```python
from nb_ai_context import AiMdGenerator

project_name = "my_awesome_project"
project_root = r"D:\codes\my_awesome_project"

project_summary = f"""
- `{project_name}` æ˜¯ä¸€ä¸ªä¼˜ç§€çš„ Python Web åº”ç”¨
- ä½¿ç”¨ FastAPI æ¡†æ¶
- åŒ…å«å®Œæ•´çš„ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
"""

(
    AiMdGenerator(rf"D:\ai_docs\{project_name}_for_ai.md")
    .set_project_propery(project_name=project_name, project_root=project_root)
    .clear_text()  # æ¸…ç©ºæ—§å†…å®¹
    .add_project_summary(
        project_summary=project_summary,
        # æ ¸å¿ƒæ–‡ä»¶åˆ—è¡¨ï¼ˆåªæå–å…ƒæ•°æ®ï¼Œä¸åŒ…å«å®Œæ•´æºç ï¼‰
        most_core_source_code_file_list=[
            "src/main.py",
            "src/api.py",
            "src/models.py",
        ],
    )
    .auto_merge_from_python_project_some_files()  # è‡ªåŠ¨åŒ…å« README.mdã€setup.pyã€pyproject.toml
    .merge_from_dir(
        relative_dir_name="src",
        as_title=f"{project_name} æºä»£ç ",
        use_gitignore=True,  # ä½¿ç”¨ .gitignore è§„åˆ™
        should_include_suffixes=[".py", ".md"],  # åªåŒ…å«æŒ‡å®šæ–‡ä»¶ç±»å‹
        include_ast_metadata=True,  # åŒ…å« AST å…ƒæ•°æ®
    )
    .merge_from_dir(
        relative_dir_name="tests",
        as_title=f"{project_name} æµ‹è¯•ä»£ç ",
        use_gitignore=True,
        should_include_suffixes=[".py"],
        excluded_dir_name_list=["tests/temp"],  # æ’é™¤ç‰¹å®šç›®å½•
        include_ast_metadata=True,
    )
    .show_textfile_info()  # æ˜¾ç¤ºç”Ÿæˆçš„æ–‡ä»¶ä¿¡æ¯
)
```

### ç¤ºä¾‹ 2ï¼šä» GitHub é¡¹ç›®ç”Ÿæˆ AI æ–‡æ¡£

```python
from nb_ai_context import gen_github_proj_docs_and_codes_ai_md
from nb_path import NbPath

# ç”Ÿæˆ SQLModel é¡¹ç›®çš„æ–‡æ¡£å’Œä»£ç 
gen_github_proj_docs_and_codes_ai_md(
    github_zip_url="https://codeload.github.com/fastapi/sqlmodel/zip/refs/heads/main",
    output_md_path=r"D:\ai_docs\sqlmodel_all_docs_and_codes.md",
    readme_file="README.md",
    docs_dir_name="docs",  # æ–‡æ¡£ç›®å½•
    codes_dir_name="sqlmodel",  # æºç ç›®å½•
    should_include_suffixes=[".py", ".md"],
    excluded_dir_name_list=["tests", "__pycache__"],
    excluded_file_name_list=["test_*.py"],
)
```

### ç¤ºä¾‹ 3ï¼šç”Ÿæˆ GitHub é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶

```python
from nb_ai_context import gen_github_proj_all_dirs_ai_md

# ç”Ÿæˆæ•´ä¸ªé¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶
gen_github_proj_all_dirs_ai_md(
    github_zip_url="https://codeload.github.com/fastapi/sqlmodel/zip/refs/heads/main",
    output_md_path=r"D:\ai_docs\sqlmodel_all_files.md",
    should_include_suffixes=[".py", ".md", ".html"],
    excluded_dir_name_list=["node_modules", ".git", "__pycache__"],
)
```


## ä¸ºä»€ä¹ˆè¦è¿™ä¸ª nb_ai_context ï¼Ÿè„±äº†è£¤å­æ”¾å±ï¼Ÿè®©cusror trae å»é˜…è¯»é¡¹ç›®çš„æºç å’Œæ•™ç¨‹ï¼Œè¿˜èƒ½åœ¨ideé‡Œé¢ç”Ÿæˆä»£ç ï¼Œè¿™ä¸æ›´é¦™å—ï¼Ÿ(é¢„åˆ¤è´¨ç–‘)

- 1. æœ‰æ—¶å€™æ˜¯éideç¯å¢ƒé—®é¡¹ç›®çš„ç”¨æ³•

- 2. cursor å¤ªè´µäº†ï¼Œç»å¸¸æé—®cursoræµªè´¹å®è´µæ¬¡æ•°ï¼Œè¦æŠŠå®è´µæ¬¡æ•°ç•™ç»™çœŸæ­£çš„ä»£ç ç”Ÿæˆï¼Œè€Œä¸æ˜¯æé—®ã€‚
     cursor trae å­˜åœ¨ä¸Šä¸‹æ–‡å¤ªçŸ­ï¼Œè°ƒæ•™æˆä¸ç§¯æé˜…è¯»å…¨é‡æºç å’Œæ•™ç¨‹ç­‰é—®é¢˜ã€‚

- 3. å¯ä»¥ä½œä¸º rag åœ¨çº¿çŸ¥è¯†åº“ä½¿ç”¨ï¼Œè®©aiå¤§æ¨¡å‹é˜…è¯»ç”Ÿæˆçš„markdownï¼Œç„¶åå›ç­”é—®é¢˜ã€‚

- 4. å¯ä»¥æŠŠç”Ÿæˆçš„markdownä¸¢ç»™å…è´¹ä¸”ä¸Šä¸‹æ–‡æ— æ•Œé«˜è¾¾1000k çš„ `google ai studio` å»é˜…è¯»ï¼Œclaude gptæ‰256k tokenï¼Œå›½å†…å¤§æ¨¡å‹æ‰128k tokenï¼Œå‹æ ¹ä¸å¤Ÿç”¨ï¼Œ  
     åªæœ‰  google ai studio + gemini 3.0pro æ‰èƒ½å®Œæ•´é˜…è¯»é¡¹ç›®æºç åŠ æ•™ç¨‹ï¼Œå¹¶ä¸”å…è´¹ä½¿ç”¨ã€‚ 

- 5. `google ai studio` å¯¹äº4M ä»¥å†…çš„æ–‡ä»¶ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å…¨é‡é˜…è¯»å…¨æ–‡+æ¨ç†ï¼Œå¹¶ä¸”å…è´¹ä½¿ç”¨ã€‚
     ä¸€èˆ¬ä¸‰æ–¹åŒ…é¡¹ç›®çš„æºç åŠ æ•™ç¨‹è¿œæ²¡æœ‰è¾¾åˆ°4Mã€‚
     å¦‚æœæ˜¯ç”¨æˆ·è‡ªå·±çš„çœŸå®é¡¹ç›®è€Œéæ¡†æ¶æˆ–è€…ä¸‰æ–¹åŒ…é¡¹ç›®ï¼Œé¡¹ç›®ä¸­å¯èƒ½åŒ…å«å¤§é‡å†™æ³•æ¨¡å¼éå¸¸é‡å¤çš„éœ€æ±‚ä»£ç ï¼Œä»£ç åŠ æ•™ç¨‹åŠ èµ·æ¥å¯èƒ½ä¼šè¶…è¿‡4Mï¼Œä½†æ˜¯ ç”¨æˆ·é¡¹ç›®æ ¸å¿ƒå…¬å…±å…¥å£å‡½æ•°å’Œç±»çš„ç”¨æ³•çš„æºç  + æ•™ç¨‹ ç»å¯¹ä¸è¶…è¿‡1Mã€‚

- 6. `nb_ai_context` æ”¯æŒæŒ‰æ–‡ä»¶å¤¹åˆå¹¶å’Œè¿‡æ»¤éœ€è¦åˆå¹¶çš„æ–‡ä»¶ï¼Œå¹¶ä¸”`nb_ai_context` æ”¯æŒ `ast` è§£æ ä»»ä½•pythonæ–‡ä»¶çš„ ç±» å‡½æ•° å…¥å‚ æ³¨é‡Š ç­‰ å…ƒä¿¡æ¯ï¼Œå¤§å¹…å‡å°‘tokenæ¶ˆè€—ï¼Œè®©aiæŠ“ä½é‡ç‚¹ã€‚  
     `AiMdGenerator.add_project_summary(most_core_source_code_file_list=[...])` æ”¯æŒæ·»åŠ é¡¹ç›®æ¦‚è¿°å’Œæ ¸å¿ƒæ–‡ä»¶å…ƒæ•°æ®ï¼Œè®©aiå¿«é€ŸæŠ“ä½é‡ç‚¹ã€‚  
     ä¸ç®¡é¡¹ç›®å¤šå¤æ‚æœ‰å‡ ç™¾ä¸ªclassç±»å’Œæ¨¡å—ï¼Œä½†çœŸæ­£èƒ½ä½œä¸ºå…¬å…±ä½¿ç”¨å…¥å£çš„æ¨¡å—ä¸€èˆ¬ä¸ä¼šè¶…è¿‡10ä¸ªã€‚  
     ä¾‹å¦‚ `funboost` é¡¹ç›® `python`æ–‡ä»¶é«˜è¾¾å‡ ç™¾ä¸ªï¼Œä½†çœŸæ­£èƒ½ä½œä¸ºæ¡†æ¶ä½¿ç”¨ç”¨æˆ·çº§åˆ«çš„å…¬å…±ä½¿ç”¨å…¥å£çš„pythonæ–‡ä»¶ä¹Ÿå°±ä¸‰å››ä¸ªï¼Œå…¶ä»–çš„pythonæ–‡ä»¶å‹æ ¹æ²¡æœºä¼šè¢«ç»ˆç«¯ç”¨æˆ·ç›´æ¥importå¹¶ä½¿ç”¨ã€‚


- 10. æœ€æœ€ä¸»è¦çš„åŸå› ï¼ï¼ï¼ cursor trae å†…ç½®çš„å¤§æ¨¡å‹éƒ½ä¸ä¹–ä¹–é˜…è¯»æ‰€æœ‰æºç å’Œæ•™ç¨‹ï¼Œå³ä½¿ä½ æ˜ç¡®å‘å‡ºæŒ‡ä»¤å¼ºè¿«ä»–é˜…è¯»æ‰€æœ‰æ•™ç¨‹å’Œæºç ï¼Œä»–ä¹Ÿä¼šå·æ‡’ä¸è¯»ï¼Œåªè¯»éƒ¨åˆ†ä»£ç ï¼Œå¯¼è‡´å¹»è§‰ç‡æé«˜ã€‚
      ä¸ºä»€ä¹ˆ cursor trae é‡Œé¢çš„å¤§æ¨¡å‹ä¸å…¨é‡é˜…è¯»å‘¢ï¼Œå› ä¸ºä»–æ—©å°±é¢„åˆ¤äº†æœ‰æµæ°“ç©å®¶æ¶æ„æ»¥ç”¨å¤§æ¨¡å‹ç®—åŠ›ï¼Œ å¦‚æœä½ è®©cursor + claude é˜…è¯»cç›˜ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œcursorå’Œclaude ä¼šè¿™ä¹ˆä¹–å—ï¼Ÿ
      cç›˜ä¸‹çš„æ–‡æœ¬æ–‡ä»¶é«˜è¾¾å‡ ç™¾äº¿è¡Œï¼Œå¦‚æœè¯»å®Œä¸€æ¬¡å°±ä¼šæ¶ˆè€—ä»·å€¼å‡ åä¸‡ç¾å…ƒçš„tokensï¼Œå¤§æ¨¡å‹å‚å•†äºå¾—è£¤è¡©æ²¡å¾—ç©¿ï¼Œä½ æ‰20ç¾å…ƒçš„åŒ…æœˆä¼šå‘˜ï¼Œcursorå’Œclaudeå‚å®¶ä¸è¢«ä½ è–…ç§ƒå™œçš®ï¼Ÿ
      æ‰€ä»¥ä¸ç®¡ç”¨æˆ·æ€ä¹ˆå¼ºè¿«cursor  traeå»é˜…è¯»æ‰€æœ‰æºç å’Œæ•™ç¨‹ï¼Œcursor å’Œ claude å’Œtraeéƒ½ä¸ä¼šå¬ä½ çš„è¯ã€‚

- 11. trae å’Œ cursor è¢«è°ƒæ•™é™åˆ¶äº†ï¼Œ traeä¸€æ¬¡æœ€å¤šé˜…è¯»200è¡Œï¼Œqoderä¸€æ¬¡æœ€å¤šé˜…è¯»1000è¡Œï¼Œå¯¹è¶…é•¿æ•™ç¨‹ï¼Œéœ€è¦åˆ†å¤šæ¬¡é˜…è¯»ï¼Œå¯¼è‡´å¹»è§‰ç‡æé«˜ï¼Œä½ è®©è¿™ç§ ai ide + å¤§æ¨¡å‹å»æ€»ç»“ é¡¹ç›®çš„ä¸­å¿ƒæ€æƒ³éå¸¸ä¸é è°±ã€‚ 
      å¹¶ä¸”åˆ†æ®µé˜…è¯»äº¤äº’æ¬¡æ•°é«˜è¾¾å‡ åæ¬¡ï¼Œå¤ªè´¹ç­‰å¾…æ—¶é—´äº†ã€‚
      å¹¶ä¸” ai ideé‡Œé¢é˜…è¯»é•¿æ–‡ä»¶ä¼šåˆ†æ‰¹é˜…è¯»ç›´åˆ°20æ¬¡å°±ä¼šè‡ªåŠ¨åœæ­¢ï¼Œä¾‹å¦‚æ–‡ä»¶æœ‰10000è¡Œï¼Œtraeä¸€æ¬¡é˜…è¯»200è¡Œï¼Œéœ€è¦50æ¬¡äº¤äº’ï¼Œä½†ai ideè®¾ç½®äº†æœ€å¤šäº¤äº’20æ¬¡å°±ä¼šè‡ªåŠ¨åœæ­¢ï¼›è¿™æ˜¯å› ä¸ºæ‹…å¿ƒæµæ°“æ¶æ„ç”¨æˆ·è®©ä»–é˜…è¯»1äº¿è¡Œçš„æ–‡ä»¶å¯¼è‡´è‡ªå·±è¡€äºï¼Œæ‰€ä»¥æœ€å¤šåˆ†æ®µé˜…è¯»20æ¬¡å°±ä¼šåœæ­¢ã€‚

- 12. è§£å†³ 10å’Œ11çš„ç—›ç‚¹é—®é¢˜ï¼Œ åªæœ‰ `google ai studio` æ‰èƒ½åšåˆ° ï¼Œ æˆ–è€…ä½¿ç”¨ragä¹Ÿå‹‰å¼ºå¯ä»¥ã€‚
      æŠŠæ–‡æ¡£ä¸Šä¼ ç»™ `google ai studio` ç½‘é¡µç‰ˆçš„1000kä¸Šä¸‹æ–‡çš„gemini pro è¿™ç§æ–¹å¼æœ€å¼ºï¼Œ å…¶æ¬¡æ˜¯ `rag`æ–¹å¼ã€‚
      å¯¹ 4Mä»¥å†…çš„æ–‡æ¡£ï¼ˆå¤§çº¦å°±æ˜¯1000k tokensï¼‰ï¼Œ æ¨èä½¿ç”¨  `google ai studio`ï¼Œä¸è¦ä½¿ç”¨ `rag` æ–¹å¼ã€‚
      è¶…è¿‡4Mæ–‡æ¡£çš„ä¸Šä¸‹æ–‡ï¼Œçªç ´äº†gemini 1000k token ä¸Šé™ï¼Œæ— æ³•ä½¿ç”¨ï¼Œæ­¤æ—¶éœ€è¦ä½¿ç”¨ `rag`æ–¹å¼ã€‚

- 13. ä¸€äº›ç½‘å€ï¼š
       google ai studio ç½‘å€  [https://aistudio.google.com/](https://aistudio.google.com/)    
       æ™ºè°±æ¸…è¨€ aiæ™ºèƒ½ä½“ç½‘å€ï¼Œå¯ä»¥æ”¯æŒå…è´¹rag  [chatglm.cn/main/gdetail/69168f75e8e6a00da25f55cc?lang=zh](chatglm.cn/main/gdetail/69168f75e8e6a00da25f55cc?lang=zh)    
       è…¾è®¯imaçŸ¥è¯†åº“ [ima.qq.com](https://ima.qq.com/)    



## ğŸ“– æ ¸å¿ƒ API è¯¦è§£

### AiMdGenerator ç±»

`AiMdGenerator` æ˜¯æ ¸å¿ƒç±»ï¼Œç»§æ‰¿è‡ª `NbPath`ï¼Œæ”¯æŒä¼˜é›…çš„é“¾å¼è°ƒç”¨ã€‚

#### ä¸»è¦æ–¹æ³•

##### 1. `set_project_propery(project_name, project_root)`
è®¾ç½®é¡¹ç›®åç§°å’Œæ ¹ç›®å½•ï¼ˆå¿…é¡»é¦–å…ˆè°ƒç”¨ï¼‰

```python
.set_project_propery(
    project_name="my_project",
    project_root=r"D:\codes\my_project"
)
```

##### 2. `add_project_summary(project_summary, most_core_source_code_file_list)`
æ·»åŠ é¡¹ç›®æ¦‚è¿°å’Œæ ¸å¿ƒæ–‡ä»¶å…ƒæ•°æ®

```python
.add_project_summary(
    project_summary="é¡¹ç›®æè¿°...",
    most_core_source_code_file_list=[
        "src/main.py",  # åªæå–è¿™äº›æ–‡ä»¶çš„ AST å…ƒæ•°æ®ï¼Œä¸åŒ…å«å®Œæ•´æºç 
        "src/api.py",
    ]
)
```

##### 3. `auto_merge_from_python_project_some_files()`
è‡ªåŠ¨åˆå¹¶é¡¹ç›®æ ¹ç›®å½•çš„å…³é”®æ–‡ä»¶ï¼ˆREADME.mdã€setup.pyã€pyproject.tomlï¼‰

```python
.auto_merge_from_python_project_some_files()
```

##### 4. `merge_from_files(relative_file_name_list, as_title)`
åˆå¹¶æŒ‡å®šæ–‡ä»¶åˆ—è¡¨

```python
.merge_from_files(
    relative_file_name_list=["docs/intro.md", "docs/api.md"],
    as_title="é¡¹ç›®æ–‡æ¡£"
)
```

##### 5. `merge_from_dir()` â­ æœ€å¼ºå¤§çš„æ–¹æ³•
åˆå¹¶æ•´ä¸ªç›®å½•çš„æ–‡ä»¶

```python
.merge_from_dir(
    relative_dir_name="src",           # ç›¸å¯¹ç›®å½•å
    as_title="æºä»£ç ",                  # ç« èŠ‚æ ‡é¢˜
    should_include_suffixes=[".py"],   # åŒ…å«çš„æ–‡ä»¶ç±»å‹
    excluded_dir_name_list=[],         # æ’é™¤çš„ç›®å½•åˆ—è¡¨
    excluded_file_name_list=[],        # æ’é™¤çš„æ–‡ä»¶åˆ—è¡¨
    use_gitignore=True,                # ä½¿ç”¨ .gitignore è§„åˆ™
    include_ast_metadata=True,         # åŒ…å« Python AST å…ƒæ•°æ®
)
```

**å‚æ•°è¯´æ˜ï¼š**
- `relative_dir_name`: ç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•çš„è·¯å¾„
- `as_title`: åœ¨ç”Ÿæˆçš„ Markdown ä¸­çš„ç« èŠ‚æ ‡é¢˜
- `should_include_suffixes`: åªåŒ…å«è¿™äº›åç¼€çš„æ–‡ä»¶ï¼ˆç•™ç©ºåˆ™åŒ…å«æ‰€æœ‰æ–‡æœ¬æ–‡ä»¶ï¼‰
- `excluded_dir_name_list`: è¦æ’é™¤çš„ç›®å½•åˆ—è¡¨
- `excluded_file_name_list`: è¦æ’é™¤çš„æ–‡ä»¶åˆ—è¡¨
- `use_gitignore`: æ˜¯å¦éµå¾ª `.gitignore` è§„åˆ™ï¼ˆå¼ºçƒˆæ¨èå¼€å¯ï¼‰
- `include_ast_metadata`: å¯¹ Python æ–‡ä»¶æ˜¯å¦ç”Ÿæˆ AST å…ƒæ•°æ®
- `dry_run`: é¢„è§ˆæ¨¡å¼ï¼Œåªæ˜¾ç¤ºå°†è¦åŒ…å«çš„æ–‡ä»¶ï¼Œä¸å®é™…ç”Ÿæˆ

##### 6. `merge_from_files_with_metadata()`
å¸¦å…ƒæ•°æ®çš„æ–‡ä»¶åˆå¹¶ï¼ˆæ›´é«˜çº§çš„æ§åˆ¶ï¼‰

```python
.merge_from_files_with_metadata(
    relative_file_name_list=["src/main.py"],
    as_title="æ ¸å¿ƒä»£ç ",
    include_ast_metadata=True,   # æ˜¯å¦åŒ…å« AST å…ƒæ•°æ®
    include_file_text=True,      # æ˜¯å¦åŒ…å«å®Œæ•´æºç 
)
```

##### 7. `show_textfile_info()`
æ˜¾ç¤ºç”Ÿæˆæ–‡ä»¶çš„ç»Ÿè®¡ä¿¡æ¯

```python
.show_textfile_info()  # æ‰“å°æ–‡ä»¶å¤§å°ã€è¡Œæ•°ç­‰ä¿¡æ¯
```

### GitHub é¡¹ç›®å¤„ç†å‡½æ•°

#### `gen_github_proj_docs_and_codes_ai_md()`
ç”Ÿæˆ GitHub é¡¹ç›®çš„ READMEã€æ–‡æ¡£å’Œæºç 

```python
from nb_ai_context import gen_github_proj_docs_and_codes_ai_md

gen_github_proj_docs_and_codes_ai_md(
    github_zip_url="https://codeload.github.com/owner/repo/zip/refs/heads/main",
    output_md_path="output.md",
    readme_file="README.md",
    docs_dir_name="docs",
    codes_dir_name="src",
    should_include_suffixes=[".py", ".md"],
    excluded_dir_name_list=["tests"],
    excluded_file_name_list=["test_*.py"],
)
```

#### `gen_github_proj_all_dirs_ai_md()`
ç”Ÿæˆ GitHub é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶

```python
from nb_ai_context import gen_github_proj_all_dirs_ai_md

gen_github_proj_all_dirs_ai_md(
    github_zip_url="https://codeload.github.com/owner/repo/zip/refs/heads/main",
    output_md_path="output_all.md",
    should_include_suffixes=[".py", ".java", ".go", ".md"],
    excluded_dir_name_list=["node_modules", ".git"],
)
```

## ğŸ Python AST å…ƒæ•°æ®æå–

å¯¹äº Python æ–‡ä»¶ï¼Œ`nb_ai_context` ä¼šè‡ªåŠ¨æå–ä»¥ä¸‹å…ƒæ•°æ®ï¼š

### æå–å†…å®¹
- âœ… **æ¨¡å—æ–‡æ¡£å­—ç¬¦ä¸²**
- âœ… **å¯¼å…¥è¯­å¥** (import / from import)
- âœ… **ç±»å®šä¹‰**
  - ç±»åã€ç»§æ‰¿å…³ç³»ã€è£…é¥°å™¨
  - ç±»æ–‡æ¡£å­—ç¬¦ä¸²
  - å…¬æœ‰æ–¹æ³•ï¼ˆå«å‚æ•°ç±»å‹ã€è¿”å›å€¼ã€è£…é¥°å™¨ï¼‰
  - å±æ€§ (@property)
  - ç±»å˜é‡
- âœ… **é¡¶çº§å‡½æ•°**
  - å‡½æ•°ç­¾åï¼ˆå‚æ•°ç±»å‹ã€é»˜è®¤å€¼ã€è¿”å›å€¼ï¼‰
  - è£…é¥°å™¨
  - æ–‡æ¡£å­—ç¬¦ä¸²
  - å¼‚æ­¥å‡½æ•°æ ‡è¯†

### å…ƒæ•°æ®ç¤ºä¾‹è¾“å‡º

```markdown
### ğŸ“„ Python File Metadata: `src/main.py`

#### ğŸ“ Module Docstring
```
è¿™æ˜¯ä¸»æ¨¡å—ï¼ŒåŒ…å«åº”ç”¨çš„å…¥å£ç‚¹
```

#### ğŸ“¦ Imports
- `import os`
- `from typing import List, Optional`
- `from fastapi import FastAPI`

#### ğŸ›ï¸ Classes (2)

##### ğŸ“Œ `class UserService(BaseService)`
*Line: 15*

**Docstring:**
```
ç”¨æˆ·æœåŠ¡ç±»ï¼Œå¤„ç†ç”¨æˆ·ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
```

**Public Methods (3):**
- `def get_user(user_id: int) -> Optional[User]`
  - *è·å–ç”¨æˆ·ä¿¡æ¯*
- `async def create_user(name: str, email: str) -> User`
  - *åˆ›å»ºæ–°ç”¨æˆ·*
- `def update_user(user_id: int, **kwargs) -> bool`

**Properties (1):**
- `@property user_count -> int`

#### ğŸ”§ Public Functions (2)
- `async def startup_event() -> None`
  - *Line: 120*
  - *åº”ç”¨å¯åŠ¨äº‹ä»¶å¤„ç†*
```

## ğŸ¨ ç”Ÿæˆçš„ Markdown ç»“æ„

ç”Ÿæˆçš„ Markdown æ–‡æ¡£ç»“æ„æ¸…æ™°ï¼ŒåŒ…å«ï¼š

```markdown
# markdown content namespace: é¡¹ç›®æ¦‚è¿°

é¡¹ç›®æè¿°...

## ğŸ“‹ Core Source Files Metadata (Entry Points)
æ ¸å¿ƒæ–‡ä»¶çš„ AST å…ƒæ•°æ®ï¼ˆä¸å«æºç ï¼‰

---

# markdown content namespace: é¡¹ç›®æ ¹ç›®å½•æ–‡ä»¶

## File Tree
```
â”œâ”€â”€ README.md
â”œâ”€â”€ setup.py
â””â”€â”€ pyproject.toml
```

## Included Files
- `README.md`
- `setup.py`
- `pyproject.toml`

---

--- **start of file: README.md** ---
ï¼ˆæ–‡ä»¶å†…å®¹ï¼‰
--- **end of file: README.md** ---

---

# markdown content namespace: æºä»£ç 

## File Tree
ï¼ˆæ–‡ä»¶æ ‘ï¼‰

## Included Files
ï¼ˆæ–‡ä»¶åˆ—è¡¨ï¼‰

--- **start of file: src/main.py** ---

### ğŸ“„ Python File Metadata: `src/main.py`
ï¼ˆAST å…ƒæ•°æ®ï¼‰

```python
ï¼ˆå®Œæ•´æºç ï¼‰
```

--- **end of file: src/main.py** ---
```

## ğŸ”§ é«˜çº§ç”¨æ³•

### 1. é¢„è§ˆæ¨¡å¼ï¼ˆDry Runï¼‰

```python
(
    AiMdGenerator("output.md")
    .set_project_propery("my_project", r"D:\codes\my_project")
    .merge_from_dir(
        relative_dir_name="src",
        as_title="æºä»£ç ",
        dry_run=True,  # åªé¢„è§ˆï¼Œä¸å®é™…ç”Ÿæˆ
    )
)
```

### 2. åªæå–å…ƒæ•°æ®ï¼Œä¸åŒ…å«æºç 

```python
(
    AiMdGenerator("output.md")
    .set_project_propery("my_project", r"D:\codes\my_project")
    .merge_from_files_with_metadata(
        relative_file_name_list=["src/main.py"],
        as_title="æ ¸å¿ƒä»£ç æ¶æ„",
        include_ast_metadata=True,  # åŒ…å«å…ƒæ•°æ®
        include_file_text=False,    # ä¸åŒ…å«æºç 
    )
)
```

### 3. æ”¯æŒçš„æ–‡ä»¶ç±»å‹

`AiMdGenerator` æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•é«˜äº®ï¼š

```python
suffix__lang_map = {
    ".py": "python",
    ".java": "java",
    ".go": "go",
    ".js": "javascript",
    ".ts": "typescript",
    ".jsx": "javascript",
    ".tsx": "typescript",
    ".vue": "vue",
    ".php": "php",
    ".c": "c",
    ".cpp": "cpp",
    ".cs": "csharp",
    ".sql": "sql",
    ".sh": "shell",
    ".ps1": "powershell",
    ".md": "markdown",
    ".json": "json",
    ".yaml": "yaml",
    ".xml": "xml",
    ".html": "html",
    ".css": "css",
    # ... æ›´å¤š
}
```

## ğŸ¯ å®é™…åº”ç”¨åœºæ™¯

### 1. AI ä»£ç å®¡æŸ¥
ç”Ÿæˆå®Œæ•´é¡¹ç›®ä¸Šä¸‹æ–‡ï¼Œè®© AI å…¨é¢å®¡æŸ¥ä»£ç è´¨é‡ã€å®‰å…¨æ¼æ´ã€æ€§èƒ½é—®é¢˜ã€‚

### 2. æŠ€æœ¯æ–‡æ¡£ç”Ÿæˆ
å¿«é€Ÿä¸ºæ–°å›¢é˜Ÿæˆå‘˜ç”Ÿæˆé¡¹ç›®æ¦‚è§ˆæ–‡æ¡£ï¼Œé…åˆ AI è§£é‡Šä»£ç é€»è¾‘ã€‚

### 3. çŸ¥è¯†åº“æ„å»º
å°†é¡¹ç›®å†…å®¹å¯¼å…¥ RAG çŸ¥è¯†åº“ï¼Œå®ç°æ™ºèƒ½ä»£ç æœç´¢å’Œé—®ç­”ã€‚

### 4. é¡¹ç›®è¿ç§»å’Œé‡æ„
è®© AI ç†è§£æ•´ä¸ªé¡¹ç›®åï¼Œæä¾›é‡æ„å»ºè®®æˆ–è¿ç§»åˆ°æ–°æ¡†æ¶ã€‚

### 5. å­¦ä¹ å¼€æºé¡¹ç›®
ä¸‹è½½ GitHub é¡¹ç›®åç”Ÿæˆç»“æ„åŒ–æ–‡æ¡£ï¼Œé…åˆ AI å¿«é€Ÿç†è§£é¡¹ç›®æ¶æ„ã€‚

## ğŸ”’ å®‰å…¨æ€§

### `.gitignore` æ”¯æŒ

è®¾ç½® `use_gitignore=True` æ—¶ï¼Œä¼šè‡ªåŠ¨éµå¾ªé¡¹ç›®çš„ `.gitignore` è§„åˆ™ï¼š

```python
.merge_from_dir(
    relative_dir_name="src",
    use_gitignore=True,  # è‡ªåŠ¨æ’é™¤ .envã€*.log ç­‰æ•æ„Ÿæ–‡ä»¶
)
```

### è‡ªåŠ¨æ’é™¤
- è‡ªåŠ¨æ’é™¤ä»¥ `.` å¼€å¤´çš„éšè—ç›®å½•ï¼ˆå¦‚ `.git`ã€`.venv`ï¼‰
- æ”¯æŒæ‰‹åŠ¨æ’é™¤ç‰¹å®šç›®å½•å’Œæ–‡ä»¶

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

- âœ… é«˜æ•ˆçš„æ–‡ä»¶éå†å’Œè¿‡æ»¤
- âœ… æ™ºèƒ½æ–‡æœ¬æ–‡ä»¶æ£€æµ‹
- âœ… æ”¯æŒå¤§å‹é¡¹ç›®ï¼ˆæ•°åƒä¸ªæ–‡ä»¶ï¼‰
- âœ… é“¾å¼è°ƒç”¨ï¼Œä»£ç ç®€æ´ä¼˜é›…

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— ç›¸å…³é“¾æ¥

- **GitHub**: https://github.com/ydf0509/nb_ai_context
- **PyPI**: https://pypi.org/project/nb_ai_context/
- **Issues**: https://github.com/ydf0509/nb_ai_context/issues

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q: ç”Ÿæˆçš„ Markdown æ–‡ä»¶å¤ªå¤§æ€ä¹ˆåŠï¼Ÿ
A: ä½¿ç”¨ `should_include_suffixes` é™åˆ¶æ–‡ä»¶ç±»å‹ï¼Œæˆ–ä½¿ç”¨ `excluded_dir_name_list` æ’é™¤ä¸é‡è¦çš„ç›®å½•ï¼ˆå¦‚ `node_modules`ã€`venv`ï¼‰ã€‚

### Q: å¦‚ä½•åªç”Ÿæˆä»£ç ç»“æ„ï¼Œä¸åŒ…å«æºç ï¼Ÿ
A: ä½¿ç”¨ `merge_from_files_with_metadata()` æ–¹æ³•ï¼Œè®¾ç½® `include_file_text=False`ã€‚

### Q: æ”¯æŒå“ªäº›ç¼–ç¨‹è¯­è¨€ï¼Ÿ
A: æ‰€æœ‰æ–‡æœ¬æ–‡ä»¶éƒ½æ”¯æŒï¼Œä½† Python æ–‡ä»¶æœ‰ç‰¹æ®Šçš„ AST å…ƒæ•°æ®æå–æ”¯æŒã€‚



## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star â­ï¸ï¼

---

**nb_ai_context** - è®© AI çœŸæ­£ç†è§£ä½ çš„ä»£ç  ğŸš€
